{"mappings":"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","sources":["src/js/header/library-header.js","src/js/templates/renderMarkupLibrary.js","src/js/toggler/sliderTheme.js","src/js/mainModal/libraryModal.js"],"sourcesContent":["\nconst btnList = document.querySelector(\".header-buttonlist\")\nconst watchedBtn = document.querySelector(\".js-watched\")\nconst queueBtn = document.querySelector(\".js-queue\")\n\nbtnList.addEventListener(\"click\", onBtnClick)\n\nfunction onBtnClick(event){\n    if(event.target.nodeName !== \"BUTTON\"){\n        return\n    }\n    event.target.classList.add(\"current--btn\")\n    if(event.target.classList.contains(\"js-watched\")){\n        queueBtn.classList.remove(\"current--btn\")\n    }\n    if(event.target.classList.contains(\"js-queue\")){\n        watchedBtn.classList.remove(\"current--btn\")\n    }\n}\nexport { onBtnClick }\n\n","import { matchGenresById } from '../findGenres/findGenres';\n\nexport const myLibraryContainer = document.querySelector(\n  '.film-myLibrary__list'\n);\n\nconst headerButtonlist = document.querySelector('.header-buttonlist');\n\nexport const btnWatched = document.querySelector('.js-watched');\nexport const btnQueue = document.querySelector('.js-queue');\n\nconst PER_PAGE = 6;\nlet currentPage = 1;\n\nconst imgNotFound = document.querySelector('.img-not-found');\n\nexport let filmKey = 'Watched';\n\nconst savedFilms = localStorage.getItem(filmKey);\nconst parsedFilms = JSON.parse(savedFilms);\nmyLibraryContainer.innerHTML = '';\nrenderMarkupLibrary(parsedFilms);\n\nheaderButtonlist.addEventListener('click', getFilmsKey);\nfunction getFilmsKey(evt) {\n  if (evt.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  if (evt.target.classList.contains('js-watched')) {\n    filmKey = 'Watched';\n    const savedFilms = localStorage.getItem(filmKey);\n    const parsedFilms = JSON.parse(savedFilms);\n    myLibraryContainer.innerHTML = '';\n    renderMarkupLibrary(parsedFilms);\n  }\n  if (evt.target.classList.contains('js-queue')) {\n    filmKey = 'Queue';\n    const savedFilms = localStorage.getItem(filmKey);\n    const parsedFilms = JSON.parse(savedFilms);\n    myLibraryContainer.innerHTML = '';\n    renderMarkupLibrary(parsedFilms);\n  }\n}\n\nexport function renderMarkupLibrary(parsedFilms) {\n  if (parsedFilms.length === 0) {\n    // imgNotFound.classList.add('open');\n    return errorBox(myLibraryContainer)\n    \n  }\n  const markup = parsedFilms\n    .map(\n      ({\n        title,\n        name,\n        id,\n        poster_path,\n        vote_average,\n        release_date,\n        genre_ids,\n      }) => {\n        let POSTER_IMG_URL = '';\n        if (poster_path) {\n          POSTER_IMG_URL = 'https://image.tmdb.org/t/p/w500' + poster_path;\n        } else {\n          POSTER_IMG_URL =\n            'https://img.freepik.com/free-vector/glitch-error-404-page_23-2148105404.jpg?w=1000';\n        }\n        return `<li class=\"film-gallery__item\" id=\"${id}\">\n        <div class=\"film-gallery__image-wrapper\">\n        <img class=\"film-gallery__image\" src=\"${POSTER_IMG_URL}\"\n        alt=\"${title || name}\" width =\"394\" height =\"336\"/>\n        </div>\n        <div class=\"film-gallery__info-wrapper\">\n        <h3 class=\"film-gallery__name\">${name || title}</h3>\n        <p class=\"film-gallery__info\">\n        <span class=\"film-gallery__info-genres\">\n        ${matchGenresById(genre_ids) || 'No info'}</span>\n        |\n        <span class=\"film-gallery__info-year\">${\n          release_date ? release_date.slice(0, 4) : 'No info'\n        }</span>\n                      <span class=\"film-gallery__info-rang\">${\n                        vote_average || 'No info'\n                      }</span>\n                      </p>\n                      </div>\n                      </li>`;\n      }\n    )\n    .join('');\n  myLibraryContainer.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction errorBox(div){\n  return div.innerHTML = `<div class=\"error-box\">\n  <p class=\"error-text-lib\">Whoops( </br>\n  you haven't added anything yet\n  </p>\n  </div>`\n}","const KEY_FOR_THEME = 'theme';\nconst linkEl = document.querySelector('.themetoggle');\nconst spanEl = document.querySelector('.material-symbol');\n\nlinkEl.addEventListener('click', event => {\n  event.preventDefault();\n  if (localStorage.getItem(KEY_FOR_THEME) === 'dark') {\n    localStorage.removeItem(KEY_FOR_THEME);\n  } else {\n    localStorage.setItem(KEY_FOR_THEME, 'dark');\n  }\n  changeTheme();\n});\n\nfunction changeTheme() {\n  if (localStorage.getItem('theme') === 'dark') {\n    document.querySelector('body').classList.remove('light');\n    document.querySelector('footer').classList.remove('footer-light');\n    document.querySelector('body').classList.add('dark');\n    document.querySelector('footer').classList.add('footer-dark');\n    document.querySelector('header').classList.add('heared-shaddow');\n    document.querySelector('.main-modal').classList.add('modal-dark');\n    spanEl.textContent = 'dark_mode';\n  } else {\n    document.querySelector('body').classList.remove('dark');\n    document.querySelector('footer').classList.remove('footer-dark');\n    document.querySelector('header').classList.remove('heared-shaddow');\n    document.querySelector('.main-modal').classList.remove('modal-dark');\n    document.querySelector('body').classList.add('light');\n    document.querySelector('footer').classList.add('footer-light');\n    spanEl.textContent = 'wb_sunny';\n  }\n}\nchangeTheme();\n","import { renderMarkupModal } from \"./renderMarkupModal\"\nimport { filmKey, renderMarkupLibrary, myLibraryContainer, btnWatched, btnQueue } from \"../templates/renderMarkupLibrary\"\nlet CURRENT_STORAGE\nconst filmList = document.querySelector(\".film-myLibrary__list\")\n\nconst modal = document.querySelector('[data-main-modal]');\nconst closeModalBtn = document.querySelector('[data-modal-main-close]');\nconst modalContainer = document.querySelector('.main-modal__container');\nconst body = document.querySelector('body');\nconst backdrop = document.querySelector('.main-modal__backdrop');\n\nfilmList.addEventListener(\"click\", onFilmClick)\n\nfunction onFilmClick(event){\n    if(!event.target.closest(\".film-gallery__item\")){\n        return\n    }\n    modal.classList.remove('is-hidden');\n    body.classList.add('overflow');\n    CURRENT_STORAGE = filmKey\n    const  {id}  = event.target.closest(\".film-gallery__item\")\n    const allFilms  = JSON.parse(localStorage.getItem(CURRENT_STORAGE))\n\n    let currFilm = allFilms.find(elem => elem.id.toString() === id)\n    \n    modalContainer.innerHTML= renderMarkupModal(currFilm)\n    body.addEventListener(\"keyup\", esc)\n    closeModalBtn.addEventListener('click', closeToggleModal);\n    document.addEventListener('click', clickOverlay);\n    let watchedObj = []\n    let queueObj = []\n    let watchedBtnL = document.querySelector(\".main-modal__buttons--watched\")\n    watchedBtnL.textContent = \"Remove in watched\"\n    watchedBtnL.classList.add(\"added\")\n\n    let queueBtnL = document.querySelector(\".main-modal__buttons--queue\")\n    queueBtnL.textContent = \"Remove in queue\"\n    queueBtnL.classList.add(\"added\")\n\n    if (!localStorage.getItem('Watched').includes(currFilm.id)) {\n      watchedBtnL.textContent = 'Add to watched';\n      watchedBtnL.classList.remove('added');\n    }\n    if (!localStorage.getItem('Queue').includes(currFilm.id)) {\n      queueBtnL.textContent = 'Add to queue';\n      queueBtnL.classList.remove('added');\n    }\n\n    const modalBtnList = document.querySelector(\".main-modal__buttons\")\n    modalBtnList.addEventListener(\"click\", onBtnClickInModalLib)\n    function onBtnClickInModalLib(event){\n      if(event.target.nodeName !== \"BUTTON\"){\n          return\n      }\n  \n      if(event.target.classList.contains(\"main-modal__buttons--watched\")){\n          if(localStorage.getItem(\"Watched\")){\n            watchedObj = JSON.parse(localStorage.getItem(\"Watched\"))\n          }\n          if(event.target.classList.contains(\"added\")){\n            const idx = watchedObj.findIndex(elem => elem.id === currFilm.id)\n            watchedObj.splice(idx, 1)\n            localStorage.setItem(\"Watched\", JSON.stringify(watchedObj))\n            watchedBtnL.textContent = \"Add to watched\"\n            watchedBtnL.classList.remove(\"added\")\n            myLibraryContainer.innerHTML=\"\"\n            renderMarkupLibrary( JSON.parse(localStorage.getItem(CURRENT_STORAGE)))\n            return\n          }\n          watchedObj.push(currFilm)\n          localStorage.setItem(\"Watched\", JSON.stringify(watchedObj))\n          watchedBtnL.textContent = \"Remove in watched\"\n          watchedBtnL.classList.add(\"added\")\n          myLibraryContainer.innerHTML=\"\"\n          renderMarkupLibrary( JSON.parse(localStorage.getItem(CURRENT_STORAGE)))\n      }\n  \n      if(event.target.classList.contains(\"main-modal__buttons--queue\")){\n          if(localStorage.getItem(\"Queue\")){\n            queueObj = JSON.parse(localStorage.getItem(\"Queue\"))\n          }\n  \n          if(event.target.classList.contains(\"added\")){\n            const idx = queueObj.findIndex(elem => elem.id === currFilm.id)\n            queueObj.splice(idx, 1)\n            localStorage.setItem(\"Queue\", JSON.stringify(queueObj))\n            queueBtnL.textContent = \"Add to queue\"\n            queueBtnL.classList.remove(\"added\")\n            myLibraryContainer.innerHTML=\"\"\n            renderMarkupLibrary( JSON.parse(localStorage.getItem(CURRENT_STORAGE)))\n            return\n          }\n          queueObj.push(currFilm)\n          localStorage.setItem(\"Queue\", JSON.stringify(queueObj))\n          queueBtnL.textContent = \"Remove in queue\"\n          queueBtnL.classList.add(\"added\")\n          myLibraryContainer.innerHTML=\"\"\n          renderMarkupLibrary( JSON.parse(localStorage.getItem(CURRENT_STORAGE)))\n      }\n  }\n\n}\n\n\nfunction esc(key) {\n    if (key.code === 'Escape') {\n      closeToggleModal();\n    }\n}\n  \nfunction closeToggleModal() {\n    modal.classList.add('is-hidden');\n    body.classList.remove('overflow');\n    body.removeEventListener('keyup', esc);\n}\n  \nfunction clickOverlay(overLay) {\n    const isContain = overLay.target.classList.contains('main-modal__backdrop');\n    if (isContain) {\n      closeToggleModal();\n    }\n}\n\n\n"],"names":["$1efa4ff0918d4798$var$btnList","document","querySelector","$1efa4ff0918d4798$var$watchedBtn","$1efa4ff0918d4798$var$queueBtn","addEventListener","event","target","nodeName","classList","add","contains","remove","$5m7Gj","parcelRequire","$732f8c5d49c8711b$export$1daefcb9b7d48ae","$732f8c5d49c8711b$var$headerButtonlist","$732f8c5d49c8711b$export$63c86cadbd015884","$732f8c5d49c8711b$var$savedFilms","localStorage","getItem","$732f8c5d49c8711b$var$parsedFilms","JSON","parse","$732f8c5d49c8711b$export$ebd406d59fee41e7","parsedFilms3","length","innerHTML","markup","map","param","title","name","id","poster_path","vote_average","release_date","genre_ids","POSTER_IMG_URL","concat","matchGenresById","slice","join","insertAdjacentHTML","evt","savedFilms2","parsedFilms2","savedFilms1","parsedFilms1","$ea339b2259aeee7a$var$KEY_FOR_THEME","$ea339b2259aeee7a$var$linkEl","$ea339b2259aeee7a$var$spanEl","$ea339b2259aeee7a$var$changeTheme","textContent","preventDefault","removeItem","setItem","$2a2ce3fe0165a2e3$var$CURRENT_STORAGE","$9zkr1","$2a2ce3fe0165a2e3$var$filmList","$2a2ce3fe0165a2e3$var$modal","$2a2ce3fe0165a2e3$var$closeModalBtn","$2a2ce3fe0165a2e3$var$modalContainer","$2a2ce3fe0165a2e3$var$body","$2a2ce3fe0165a2e3$var$esc","key","code","$2a2ce3fe0165a2e3$var$closeToggleModal","removeEventListener","$2a2ce3fe0165a2e3$var$clickOverlay","overLay","event1","closest","currFilm","find","elem","toString","renderMarkupModal","watchedObj","queueObj","watchedBtnL","queueBtnL","includes","idx","findIndex","splice","stringify","push","idx1"],"version":3,"file":"library.b8646509.js.map"}